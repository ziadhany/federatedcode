{% extends "base.html" %}

{% block title %}
Git Repositories
{% endblock %}

{% block extra-head %}
<style>
  /* Remove the border below the table header */
  thead th {
    border-bottom: none !important;
  }

  tbody tr:hover {
    background-color: #e0e0e0 !important;
    cursor: pointer;
  }

  tbody tr:nth-child(even):hover {
    background-color: #d3d3d3 !important;
  }
</style>
{% endblock %}


{% block content %}
<div class="columns">
  <div class="column">
  </div>
  <div class="column is-two-thirds">
    <div class="content is-normal">
      <h1>Git Repository List</h1>
      <hr />
      <div>
        <form method="get" class="box px-6 mx-0" action="">
          <div class="field has-addons">
            <div class="control is-expanded">
              {{ form.search }}
            </div>
            <div class="control">
              <button type="submit" class="button is-info">Search</button>
            </div>
          </div>
        </form>
        <div class="box">
          <table class="table is-striped  is-hoverable is-fullwidth">
            <thead>
              <tr>
                <th colspan="3">
                  <div class="box is-small">
                    <div class="columns">
                      <div class="column is-three-fifths">Repository</div>
                      <div class="column is-one-fifth">Creator</div>
                      <div class="column is-one-fifth">Review</div>
                    </div>
                  </div>
                </th>
              </tr>
            </thead>
            <tbody>
              {% for repo in repo_list %}
              <tr>
                <td colspan="3">
                  <a href="{{ repo.url }}" class="has-text-info">
                    <div class="columns px-5">
                      <div class="column is-three-fifths">{{ repo.url }}</div>
                      <div class="column is-one-fifth">@{{ repo.admin.user.username }}</div>
                      <div class="column is-one-fifth">{{ repo.review_count }}</div>
                    </div>
                  </a>
                </td>
              </tr>
              {% empty %}
              <tr>
                <td colspan="3" class="has-text-centered">No Repository found.</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="column"></div>
</div>
{% endblock %}